{"version":3,"file":"ngx-ionic-image-viewer.js","sources":["ng://ngx-ionic-image-viewer/lib/ngx-ionic-image-viewer.service.ts","ng://ngx-ionic-image-viewer/lib/viewer-modal/viewer-modal.component.ts","ng://ngx-ionic-image-viewer/lib/ngx-ionic-image-viewer.component.ts","ng://ngx-ionic-image-viewer/lib/ngx-ionic-image-viewer.directive.ts","ng://ngx-ionic-image-viewer/lib/ngx-ionic-image-viewer.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxIonicImageViewerService {\n\n  constructor() { }\n}\n","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { ModalController, IonSlides } from '@ionic/angular';\n\n@Component({\n  selector: 'ion-viewer-modal',\n  templateUrl: './viewer-modal.component.html',\n  styleUrls: ['./viewer-modal.component.scss']\n})\nexport class ViewerModalComponent implements OnInit {\n  @Input() alt?: string;\n  @Input() scheme?: string;\n  @Input() slideOptions?: object;\n  @Input() src: string;\n  @Input() srcFallback?: string;\n  @Input() srcHighRes?: string;\n  @Input() swipeToClose?: boolean;\n  @Input() text?: string;\n  @Input() title?: string;\n\n  defaultSlideOptions = {\n    centeredSlides: true,\n    passiveListeners: false,\n    zoom: {\n      enabled: true\n    }\n  };\n\n  options = {};\n\n  swipeState = {\n    phase: 'init',\n    direction: 'none',\n    swipeType: 'none',\n    startX: 0,\n    startY: 0,\n    distance: 0,\n    distanceX: 0,\n    distanceY: 0,\n    threshold: 150, // required min distance traveled to be considered swipe\n    restraint: 100, // maximum distance allowed at the same time in perpendicular direction\n    allowedTime: 500, // maximum time allowed to travel that distance\n    elapsedTime: 0,\n    startTime: 0\n  };\n\n  @ViewChild('sliderRef', { static: true }) slides: IonSlides;\n\n  constructor(private modalController: ModalController) {}\n\n  async ngOnInit() {\n    this.options = { ...this.defaultSlideOptions, ...this.slideOptions };\n    this.src = this.srcHighRes || this.src;\n    this.setStyle();\n    this.setScheme(this.scheme);\n    this.initSwipeToClose(this.swipeToClose);\n\n    /**\n     * Current Workaround\n     * See reported bug: https://github.com/ionic-team/ionic/issues/19638#issuecomment-584828315\n     * Hint: Comment in '<ion-slide>' in component\n     */\n    const swiper = await this.slides.getSwiper();\n    swiper.appendSlide(`<ion-slide><img alt=${this.alt} src=\"${this.src}\" (error)=\"(onError($event))\"/></ion-slide>`);\n  }\n\n  setStyle() {\n    const el: HTMLElement = document.querySelector('.modal-fullscreen');\n    el.style.setProperty('--height', '100%');\n    el.style.setProperty('--width', '100%');\n    el.style.setProperty('--border-radius', '0');\n  }\n\n  setScheme(scheme: string) {\n    if (scheme === 'auto') {\n      return;\n    }\n\n    const el: HTMLElement = document.querySelector('.modal-fullscreen');\n\n    if (this.scheme === 'light') {\n      el.style.setProperty('--ion-background-color', '#ffffff');\n      el.style.setProperty('--ion-background-color-rgb', '255, 255, 255');\n      el.style.setProperty('--ion-text-color', '#000');\n      el.style.setProperty('--ion-text-color-rgb', '0,0,0');\n    }\n\n    if (this.scheme === 'dark') {\n      if (el.classList.contains('ios')) {\n        el.style.setProperty('--ion-background-color', '#000000');\n        el.style.setProperty('--ion-background-color-rgb', '0, 0, 0');\n      } else {\n        el.style.setProperty('--ion-background-color', '#121212');\n        el.style.setProperty('--ion-background-color-rgb', '18,18,18');\n      }\n      el.style.setProperty('--ion-text-color', '#ffffff');\n      el.style.setProperty('--ion-text-color-rgb', '255,255,255');\n    }\n  }\n\n  /**\n   * @see http://www.javascriptkit.com/javatutors/touchevents3.shtml\n   */\n  initSwipeToClose(isActive: boolean = true) {\n    if (!isActive) {\n      return;\n    }\n\n    const el = document.querySelector('ion-modal');\n    el.addEventListener('mousedown', event => this.swipeStart(event), true);\n    el.addEventListener('mousemove', event => this.swipeMove(event), true);\n    el.addEventListener('mouseup', event => this.swipeEnd(event), true);\n    el.addEventListener('touchstart', event => this.swipeStart(event), true);\n    el.addEventListener('touchmove', event => this.swipeMove(event), true);\n    el.addEventListener('touchend', event => this.swipeEnd(event), true);\n\n    this.modalController.getTop().then(modal => {\n      modal.onWillDismiss().then(() => {\n        document.removeEventListener('mousedown', this.swipeStart, true);\n        document.removeEventListener('mousemove', this.swipeMove, true);\n        document.removeEventListener('mouseup', this.swipeMove, true);\n        document.removeEventListener('touchstart', this.swipeStart, true);\n        document.removeEventListener('touchmove', this.swipeMove, true);\n        document.removeEventListener('touchend', this.swipeMove, true);\n      });\n    });\n  }\n\n  swipeStart(event) {\n    const { pageX, pageY } = event.type === 'touchstart' ? event.changedTouches[0] : event;\n\n    this.swipeState = {\n      ...this.swipeState,\n      phase: 'start',\n      direction: 'none',\n      distance: 0,\n      startX: pageX,\n      startY: pageY,\n      startTime: new Date().getTime()\n    };\n  }\n\n  swipeMove(event) {\n    if (this.swipeState.phase === 'none') {\n      return;\n    }\n    const { pageX, pageY } = event.type === 'touchmove' ? event.changedTouches[0] : event;\n    // get horizontal dist traveled by finger while in contact with surface\n    const distanceX = pageX - this.swipeState.startX;\n    // get vertical dist traveled by finger while in contact with surface\n    const distanceY = pageY - this.swipeState.startY;\n    let direction;\n    let distance;\n\n    if (Math.abs(distanceX) > Math.abs(distanceY)) {\n      // if distance traveled horizontally is greater than vertically, consider this a horizontal swipe\n      direction = distanceX < 0 ? 'left' : 'right';\n      distance = distanceX;\n    } else {\n      // else consider this a vertical swipe\n      direction = distanceY < 0 ? 'up' : 'down';\n      distance = distanceY;\n    }\n    this.swipeState = {\n      ...this.swipeState,\n      phase: 'move',\n      direction,\n      distance,\n      distanceX,\n      distanceY\n    };\n    event.preventDefault();\n  }\n\n  swipeEnd(event) {\n    if (this.swipeState.phase === 'none') {\n      return;\n    }\n    const { allowedTime, direction, restraint, startTime, threshold, distanceX, distanceY } = this.swipeState;\n    let swipeType;\n\n    const elapsedTime = new Date().getTime() - startTime; // get time elapsed\n    if (elapsedTime <= allowedTime) {\n      // first condition for a swipe met\n      if (Math.abs(distanceX) >= threshold && Math.abs(distanceY) <= restraint) {\n        // 2nd condition for horizontal swipe met\n        swipeType = direction; // set swipeType to either \"left\" or \"right\"\n      } else if (Math.abs(distanceY) >= threshold && Math.abs(distanceX) <= restraint) {\n        // 2nd condition for vertical swipe met\n        swipeType = direction; // set swipeType to either \"top\" or \"down\"\n      }\n    }\n\n    this.swipeState = {\n      ...this.swipeState,\n      phase: 'end',\n      swipeType\n    };\n\n    if (swipeType === 'down') {\n      return this.closeModal();\n    }\n  }\n\n  onError(error) {\n    console.log('TCL: ViewerModalComponent -> onError -> error', error);\n    if (this.srcFallback) {\n      this.src = this.srcFallback;\n    }\n  }\n\n  closeModal() {\n    this.modalController.dismiss();\n  }\n}\n","// tslint:disable-next-line\n\nimport { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ViewerModalComponent } from './viewer-modal/viewer-modal.component';\n\n@Component({\n  selector: 'ion-img-viewer',\n  templateUrl: './ngx-ionic-image-viewer.component.html',\n  styles: [\n    `\n      :host {\n        display: block;\n      }\n    `\n  ],\n  encapsulation: ViewEncapsulation.Emulated\n})\nexport class NgxIonicImageViewerComponent implements OnInit {\n  @Input() alt?: string;\n  @Input() scheme?: string;\n  @Input() slideOptions?: object;\n  @Input() src: string;\n  @Input() srcFallback?: string;\n  @Input() srcHighRes?: string;\n  @Input() swipeToClose?: boolean;\n  @Input() text?: string;\n  @Input() title?: string;\n\n  constructor(public modalController: ModalController) {}\n\n  async viewImage(\n    src: string,\n    srcFallback: string = '',\n    srcHighRes: string = '',\n    title: string = '',\n    text: string = '',\n    scheme: string = 'auto',\n    slideOptions: object = {},\n    swipeToClose: boolean = true\n  ) {\n    const modal = await this.modalController.create({\n      component: ViewerModalComponent,\n      componentProps: {\n        src,\n        srcFallback,\n        srcHighRes,\n        title,\n        text,\n        scheme,\n        slideOptions,\n        swipeToClose\n      },\n      cssClass: 'modal-fullscreen',\n      keyboardClose: true,\n      showBackdrop: true\n    });\n\n    return await modal.present();\n  }\n\n  ngOnInit() {}\n}\n","import { Directive, ElementRef, HostListener, Input, Renderer2, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ViewerModalComponent } from './viewer-modal/viewer-modal.component';\n\n@Directive({\n  selector: '[ionImgViewer]'\n})\nexport class NgxIonicImageViewerDirective implements OnInit {\n  constructor(private el: ElementRef, private renderer: Renderer2, public modalController: ModalController) {}\n\n  @Input() scheme?: string;\n  @Input() slideOptions?: object;\n  @Input() src: string;\n  @Input() srcFallback?: string;\n  @Input() srcHighRes?: string;\n  @Input() swipeToClose?: boolean;\n  @Input() text?: string;\n  @Input() title?: string;\n\n  @HostListener('click') onClick() {\n    this.viewImage(this.src, this.srcFallback, this.srcHighRes, this.title, this.text, this.scheme, this.slideOptions, this.swipeToClose);\n  }\n\n  @HostListener('error', ['$event']) onError(error) {\n    if (this.src !== this.el.nativeElement.src) {\n      this.src = this.el.nativeElement.src;\n    }\n    if (this.srcFallback) {\n      this.renderer.setAttribute(this.el.nativeElement, 'src', this.srcFallback);\n    }\n  }\n\n  ngOnInit() {\n    if (!this.el.nativeElement.hasAttribute('src')) {\n      this.renderer.setAttribute(this.el.nativeElement, 'src', this.src);\n    }\n  }\n\n  async viewImage(\n    src: string,\n    srcFallback: string = '',\n    srcHighRes: string = '',\n    title: string = '',\n    text: string = '',\n    scheme: string = 'auto',\n    slideOptions: object = {},\n    swipeToClose: boolean = true\n  ) {\n    const modal = await this.modalController.create({\n      component: ViewerModalComponent,\n      componentProps: {\n        src,\n        srcFallback,\n        srcHighRes,\n        title,\n        text,\n        scheme,\n        slideOptions,\n        swipeToClose\n      },\n      cssClass: 'modal-fullscreen',\n      keyboardClose: true,\n      showBackdrop: true\n    });\n\n    return await modal.present();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { NgxIonicImageViewerComponent } from './ngx-ionic-image-viewer.component';\nimport { NgxIonicImageViewerDirective } from './ngx-ionic-image-viewer.directive';\nimport { ViewerModalComponent } from './viewer-modal/viewer-modal.component';\n\n@NgModule({\n  declarations: [NgxIonicImageViewerComponent, ViewerModalComponent, NgxIonicImageViewerDirective],\n  imports: [CommonModule, IonicModule],\n  entryComponents: [ViewerModalComponent],\n  exports: [NgxIonicImageViewerComponent, ViewerModalComponent, NgxIonicImageViewerDirective]\n})\nexport class NgxIonicImageViewerModule {}\n"],"names":[],"mappings":"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"}